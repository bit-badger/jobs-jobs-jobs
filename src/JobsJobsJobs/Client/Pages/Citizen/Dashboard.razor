@page "/citizen/dashboard"
@inject HttpClient http
@inject AppState state

<PageTitle Title="Dashboard" />

<h3>Welcome, @state.User!.Name!</h3>

@if (RetrievingData)
{
  <p>Retrieving your employment profile...</p>
}
else
{
  <ErrorList Errors=@ErrorMessages>
    @if (Profile != null)
    {
      <p>
        Your employment profile was last updated <FullDateTime TheDate=@Profile.LastUpdatedOn />. Your profile currently
        lists @Profile.Skills.Length skill@(Profile.Skills.Length != 1 ? "s" : "").
      </p>
      <p><a href="/profile/view/@state.User.Id">View Your Employment Profile</a></p>
    }
    else
    {
      <p>
        You do not have an employment profile established; click &ldquo;Edit Profile&rdquo; in the menu to get
        started!
      </p>
    }
    <hr>
    <p>
      There @(ProfileCount == 1 ? "is" : "are") @(ProfileCount == 0 ? "no" : ProfileCount) employment
      profile@(ProfileCount != 1 ? "s" : "") from citizens of Gitmo Nation.
      @if (ProfileCount > 0)
      {
        <text>Take a look around and see if you can help them find work!</text>
      }
    </p>
  </ErrorList>
}
<hr>
<h4>
  <a href="https://github.com/bit-badger/jobs-jobs-jobs/issues/3" target="_blank">Phase 3</a> &ndash; What Works
  <small><em>(v0.8 &ndash; Last Updated January 19<sup>th</sup>, 2021)</em></small>
</h4>
<p>
  The &ldquo;View Profiles&rdquo; link at the side now allows you to search for profiles by continent, the
  citizen&rsquo;s desire for remote work, a skill, or any text in their professional biography and experience. If you
  find someone with whom you&rsquo;d like to discuss potential opportunities, the name at the top of the profile links
  to their No Agenda Social account, where you can use its features to get in touch.
</p>
<hr>
<h4>Phase 2 &ndash; What Works <small><em>(v0.7 &ndash; Last Updated January 8<sup>th</sup>, 2021)</em></small></h4>
<p>
  If you&rsquo;ve gotten this far, you&rsquo;ve already passed
  <a href="https://github.com/bit-badger/jobs-jobs-jobs/issues/1" target="_blank">Phase 1</a>, which enabled users of
  No Agenda Social to create accounts here, simply by allowing the application read access to their profiles. Unless
  there are requests for tighter integration with that site, this is the only access to your NAS information that this
  application will require.
</p>
<p>
  <a href="https://github.com/bit-badger/jobs-jobs-jobs/issues/2" target="_blank">Phase 2</a> allows you to complete
  your employment profile. Much of this is straightforward, but there are a few things you might want to know before
  you fill it out:
</p>
<ul>
  <li>
    The &ldquo;View Your Employment Profile&rdquo; link (which you&rdquo;ll see on this page, once your profile is
    established) shows your profile the way all other validated users will be able to see it (once
    <a href="https://github.com/bit-badger/jobs-jobs-jobs/issues/3" target="_blank">Phase 3</a> is complete). While
    this site does not perform communication with others over No Agenda Social, the name on employment profiles is a
    link to that user&rsquo;s profile; from there, others can communicate further with you using the tools Mastodon
    provides.
  </li>
  <li>
    The &ldquo;Professional Biography&rdquo; and &ldquo;Experience&rdquo; sections support Markdown, a plain-text way
    to specify formatting quite similar to that provided by word processors. The
    <a href="https://daringfireball.net/projects/markdown/" target="_blank">original page</a> for the project is a good
    overview of its capabilities, and the pages at <a href="https://www.markdownguide.org/" target="_blank">Markdown
    Guide</a> give in-depth lessons to make the most of this language. The version of Markdown employed here supports
    many popular extensions, include smart quotes (turning "a quote" into &ldquo;a quote&rdquo;), tables,
    super/subscripts, and more.
  </li>
  <li>
    Skills are optional, but they are the place to record skills you have. Along with the skill, there is a
    &ldquo;Notes&rdquo; section, which can be used to indicate the time you&rsquo;ve practiced a particular skill, the
    mastery you have of that skill, etc. It is free-form text, so it is all up to you how you utilize the field.
  </li>
  <li>
    The &ldquo;Experience&rdquo; field is intended to capture a chronological or topical employment history; with this
    &ldquo;quick-n-dirty&rdquo; implementation, this Markdown box can be used to capture that information however you
    would like it presented to fellow citizens.
  </li>
  <li>
    <a href="https://github.com/bit-badger/jobs-jobs-jobs/issues/5" target="_blank">Phase 5</a> includes allowing
    public access to the continent, region, and skills fields of Gitmo Nation citizens who indicate that they are both
    seeking employment <strong>and</strong> want their information disclosed to public users. The &ldquo;Allow my
    profile to be searched publicly&rdquo; checkbox, at the bottom of the page where you edit your employment profile,
    is how you opt your profile in to this list.
  </li>
</ul>